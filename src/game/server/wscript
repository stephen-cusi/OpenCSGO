#! /usr/bin/env python

def options(opt):
	return

def configure(conf):
	conf.define('GAME_DLL', True)
	conf.define('VECTOR', True)
	conf.define('BOTS', True)
	conf.define('CSTRIKE_DLL', True)
	conf.define('USE_ECONOMY_FEATURES', True)

def build(bld):
	if bld.env.DEDICATED:
		return

	libs = ['tier0', 'responserules_runtime', 'vgui_controls', 'gcsdk', 'bonesetup', 'particels', 'mathlib_extended', 'choreoobjects', 'bitmap', 'dmxloader', 'tier1', 'tier2', 'tier3', 'interfaces', 'vstdlib', 'mathlib', 'generated_proto', 'protobuf']

	includes = [
		'.',
		'cstrike15',
		'cstrike15/bot',
		'cstrike15/bot/states',
		'cstrike15/control',
		'cstrike15/hostage',
		'../shared',
		'../shared/cstrike15',
		'../shared/cstrike15/bot',
		'../shared/econ',
		'../../utils/common',
		'../../gcsdk/steamextra',
		'../../generated_proto',
		'../../thirdparty/protobuf-2.6.1/src'
	]

	source = [
		'../shared/achievement_saverestore.cpp',
		'../shared/achievementmgr.cpp',
		'../shared/achievements_hlx.cpp',
		'../shared/activitylist.cpp',
		'ai_activity.cpp',
		'ai_agent.cpp',
		'ai_baseactor.cpp',
		'ai_basehumanoid.cpp',
		'ai_basenpc.cpp',
		'ai_addon.cpp',
		'ai_basenpc_flyer.cpp',
		'ai_basenpc_flyer_new.cpp',
		'ai_basenpc_movement.cpp',
		'ai_basenpc_physicsflyer.cpp',
		'ai_basenpc_schedule.cpp',
		'ai_basenpc_squad.cpp',
		'ai_behavior.cpp',
		'ai_behavior_assault.cpp',
		'ai_behavior_fear.cpp',
		'ai_behavior_fightfromcover.cpp',
		'ai_behavior_follow.cpp',
		'ai_behavior_lead.cpp',
		'ai_behavior_rappel.cpp',
		'ai_behavior_standoff.cpp',
		'ai_blended_movement.cpp',
		'ai_concommands.cpp',
		'ai_condition.cpp',
		'ai_criteria.cpp',
		'ai_default.cpp',
		'ai_dynamiclink.cpp',
		'ai_event.cpp',
		'ai_goalentity.cpp',
		'ai_hint.cpp',
		'ai_hull.cpp',
		'ai_initutils.cpp',
		'AI_Interest_Target.cpp',
		'ai_link.cpp',
		'ai_localnavigator.cpp',
		'ai_looktarget.cpp',
		'ai_memory.cpp',
		'ai_motor.cpp',
		'ai_moveprobe.cpp',
		'ai_moveshoot.cpp',
		'ai_movesolver.cpp',
		'ai_namespaces.cpp',
		'ai_navigator.cpp',
		'ai_network.cpp',
		'ai_networkmanager.cpp',
		'ai_node.cpp',
		'ai_pathfinder.cpp',
		'ai_planesolver.cpp',
		'ai_playerally.cpp',
		'ai_responsesystem.cpp',
		'ai_route.cpp',
		'ai_saverestore.cpp',
		'ai_schedule.cpp',
		'ai_scriptconditions.cpp',
		'ai_senses.cpp',
		'ai_sentence.cpp',
		'ai_speech.cpp',
		'ai_speechqueue.cpp',
		'ai_expresserfollowup.cpp',
		'ai_speechfilter.cpp',
		'ai_speechconcept.cpp',
		'ai_squad.cpp',
		'ai_squadslot.cpp',
		'ai_tacticalservices.cpp',
		'ai_task.cpp',
		'ai_trackpather.cpp',
		'ai_utils.cpp',
		'ai_waypoint.cpp',
		'ambientgeneric.cpp',
		'../shared/ammodef.cpp',
		'../shared/animation.cpp',
		'../shared/base_playeranimstate.cpp',
		'base_transmit_proxy.cpp',
		'../shared/baseachievement.cpp',
		'baseanimating.cpp',
		'BaseAnimatingOverlay.cpp',
		'basecombatcharacter.cpp',
		'../shared/basecombatcharacter_shared.cpp',
		'basecombatweapon.cpp',
		'../shared/basecombatweapon_shared.cpp',
		'baseentity.cpp',
		'../shared/baseentity_shared.cpp',
		'baseflex.cpp',
		'../shared/basegrenade_shared.cpp',
		'basemultiplayerplayer.cpp',
		'../shared/baseparticleentity.cpp',
		'../shared/baseplayer_shared.cpp',
		'baseviewmodel.cpp',
		'../shared/baseviewmodel_shared.cpp',
		'../shared/beam_shared.cpp',
		'beamspotlight.cpp',
		'bitstring.cpp',
		'bmodels.cpp',
		'../../public/tools/bonelist.cpp',
		'../shared/bone_merge_cache.cpp',
		'buttons.cpp',
		'cbase.cpp',
		'cbaseprojectile.cpp',
		'client.cpp',
		'../shared/collisionproperty.cpp',
		'colorcorrection.cpp',
		'colorcorrectionvolume.cpp',
		'CommentarySystem.cpp',
		'controlentities.cpp',
		'cplane.cpp',
		'CRagdollMagnet.cpp',
		'cvisibilitymonitor.cpp',
		'damagemodifier.cpp',
		'../shared/death_pose.cpp',
		'../shared/debugoverlay_shared.cpp',
		'../shared/decals.cpp',
		'doors.cpp',
		'dynamiclight.cpp',
		'../shared/effect_dispatch_data.cpp',
		'effects.cpp',
		'EffectsServer.cpp',
		'../shared/ehandle.cpp',
		'entityblocker.cpp',
		'EntityDissolve.cpp',
		'EntityFlame.cpp',
		'EntityFreezing.cpp',
		'entitylist.cpp',
		'../shared/entitylist_base.cpp',
		'EntityParticleTrail.cpp',
		'../shared/EntityParticleTrail_Shared.cpp',
		'env_ambient_light.cpp',
		'env_cascade_light.cpp',
		'env_debughistory.cpp',
		'../shared/env_detail_controller.cpp',
		'env_dof_controller.cpp',
		'env_effectsscript.cpp',
		'env_entity_maker.cpp',
		'env_instructor_hint.cpp',
		'env_particlescript.cpp',
		'env_player_surface_trigger.cpp',
		'env_projectedtexture.cpp',
		'env_screenoverlay.cpp',
		'env_texturetoggle.cpp',
		'env_tonemap_controller.cpp',
		'../shared/env_wind_shared.cpp',
		'env_zoom.cpp',
		'EnvBeam.cpp',
		'EnvFade.cpp',
		'EnvHudHint.cpp',
		'EnvLaser.cpp',
		'EnvMessage.cpp',
		'envmicrophone.cpp',
		'EnvShake.cpp',
		'EnvSpark.cpp',
		'../shared/eventlist.cpp',
		'EventLog.cpp',
		'explode.cpp',
		'filters.cpp',
		'fire.cpp',
		'fire_smoke.cpp',
		'fish.cpp',
		'flex_expresser.cpp',
		'fogcontroller.cpp',
		'fogvolume.cpp',
		'foundryhelpers_server.cpp',
		'fourwheelvehiclephysics.cpp',
		'func_areaportal.cpp',
		'func_areaportalbase.cpp',
		'func_areaportalwindow.cpp',
		'func_break.cpp',
		'func_breakablesurf.cpp',
		'func_dust.cpp',
		'func_instance_io_proxy.cpp',
		'../shared/func_ladder.cpp',
		'func_ladder_endpoint.cpp',
		'func_lod.cpp',
		'func_movelinear.cpp',
		'func_occluder.cpp',
		'func_reflective_glass.cpp',
		'func_smokevolume.cpp',
		'func_tank.cpp',
		'game.cpp',
		'../shared/game_timescale_shared.cpp',
		'game_ui.cpp',
		'gameinterface.cpp',
		'../shared/gamemovement.cpp',
		'../shared/gamerules.cpp',
		'../shared/gamerules_register.cpp',
		'../shared/GameStats.cpp',
		'../shared/gamestringpool.cpp',
		'gametrace_dll.cpp',
		'../shared/gamevars_shared.cpp',
		'gameweaponmanager.cpp',
		'genericactor.cpp',
		'genericmonster.cpp',
		'gib.cpp',
		'global_event_log.cpp',
		'globals.cpp',
		'globalstate.cpp',
		'guntarget.cpp',
		'h_ai.cpp',
		'hierarchy.cpp',
		'hltvdirector.cpp',
		'../shared/hintmessage.cpp',
		'../shared/hintsystem.cpp',
		'../shared/igamesystem.cpp',
		'info_camera_link.cpp',
		'info_overlay_accessor.cpp',
		'inforemarkable.cpp',
		'intermission.cpp',
		'item_world.cpp',
		'lightglow.cpp',
		'lights.cpp',
		'logic_eventlistener.cpp',
		'logic_measure_movement.cpp',
		'logic_navigation.cpp',
		'logic_playmovie.cpp',
		'logic_playerproxy.cpp',
		'logic_random_outputs.cpp',
		'logicauto.cpp',
		'logicentities.cpp',
		'logicrelay.cpp',
		'mapentities.cpp',
		'../shared/mapentities_shared.cpp',
		'maprules.cpp',
		'MaterialModifyControl.cpp',
		'memorylog.cpp',
		'message_entity.cpp',
		'modelentities.cpp',
		'../shared/ModelSoundsCache.cpp',
		'movehelper_server.cpp',
		'movement.cpp',
		'../shared/movevars_shared.cpp',
		'movie_display.cpp',
		'../shared/multiplay_gamerules.cpp',
		'ndebugoverlay.cpp',
		'npc_vehicledriver.cpp',
		'../shared/obstacle_pushaway.cpp',
		'particle_light.cpp',
		'../shared/particle_parse.cpp',
		'particle_system.cpp',
		'../shared/particlesystemquery.cpp',
		'pathcorner.cpp',
		'pathtrack.cpp',
		'phys_controller.cpp',
		'physconstraint.cpp',
		'physics.cpp',
		'physics_bone_follower.cpp',
		'physics_cannister.cpp',
		'physics_fx.cpp',
		'physics_impact_damage.cpp',
		'physics_main.cpp',
		'../shared/physics_main_shared.cpp',
		'physics_npc_solver.cpp',
		'physics_prop_ragdoll.cpp',
		'physics_prop_statue.cpp',
		'../shared/physics_saverestore.cpp',
		'../shared/physics_shared.cpp',
		'physobj.cpp',
		'player.cpp',
		'player_command.cpp',
		'player_lagcompensation.cpp',
		'player_resource.cpp',
		'playerinfomanager.cpp',
		'playerlocaldata.cpp',
		'player_voice_listener.cpp',
		'plugin_check.cpp',
		'../shared/point_bonusmaps_accessor.cpp',
		'point_camera.cpp',
		'point_devshot_camera.cpp',
		'point_entity_finder.cpp',
		'point_playermoveconstraint.cpp',
		'../shared/point_posecontroller.cpp',
		'point_spotlight.cpp',
		'point_template.cpp',
		'pointanglesensor.cpp',
		'PointAngularVelocitySensor.cpp',
		'pointhurt.cpp',
		'pointteleport.cpp',
		'postprocesscontroller.cpp',
		'../shared/precache_register.cpp',
		'../shared/predictableid.cpp',
		'prop_hallucination.cpp',
		'props.cpp',
		'../shared/props_shared.cpp',
		'../shared/querycache.cpp',
		'ragdoll_manager.cpp',
		'../shared/ragdoll_shared.cpp',
		'RagdollBoogie.cpp',
		'recipientfilter.cpp',
		'replaydirector.cpp',
		'rope.cpp',
		'../shared/rope_helpers.cpp',
		'../shared/saverestore.cpp',
		'../shared/SceneCache.cpp',
		'sceneentity.cpp',
		'../shared/sceneentity_shared.cpp',
		'scratchpad_gamedll_helpers.cpp',
		'scripted.cpp',
		'scriptedtarget.cpp',
		'sendproxy.cpp',
		'../shared/sequence_Transitioner.cpp',
		'../server/serverbenchmark_base.cpp',
		'ServerNetworkProperty.cpp',
		'shadowcontrol.cpp',
		'../shared/simtimer.cpp',
		'../shared/singleplay_gamerules.cpp',
		'skyboxswapper.cpp',
		'SkyCamera.cpp',
		'slideshow_display.cpp',
		'sound.cpp',
		'../shared/SoundEmitterSystem.cpp',
		'soundent.cpp',
		'../shared/soundenvelope.cpp',
		'../../public/SoundParametersInternal.cpp',
		'soundscape.cpp',
		'soundscape_system.cpp',
		'spatialentity.cpp',
		'spotlightend.cpp',
		'../shared/Sprite.cpp',
		'sprite_perfmonitor.cpp',
		'../shared/steamworks_gamestats.cpp',
		'../shared/studio_shared.cpp',
		'subs.cpp',
		'sun.cpp',
		'sunlightshadowcontrol.cpp',
		'../shared/takedamageinfo.cpp',
		'tanktrain.cpp',
		'team.cpp',
		'../shared/teamplay_gamerules.cpp',
		'TemplateEntities.cpp',
		'tempmonster.cpp',
		'tesla.cpp',
		'../shared/test_ehandle.cpp',
		'test_proxytoggle.cpp',
		'test_stressentities.cpp',
		'testfunctions.cpp',
		'testtraceline.cpp',
		'textstatsmgr.cpp',
		'timedeventmgr.cpp',
		'trains.cpp',
		'triggers.cpp',
		'../shared/usercmd.cpp',
		'../shared/ugc_file_info_manager.cpp',
		'../shared/ugc_request_manager.cpp',
		'../shared/ugc_utils.cpp',
		'util.cpp',
		'../shared/util_shared.cpp',
		'variant_t.cpp',
		'coerciblevariant_t.cpp',
		'vehicle_base.cpp',
		'vehicle_baseserver.cpp',
		'../shared/vehicle_viewblend_shared.cpp',
		'vguiscreen.cpp',
		'vgui_gamedll_int.cpp',
		'../shared/voice_gamemgr.cpp',
		'vscript_server.cpp',
		'../shared/vscript_shared.cpp',
		'waterbullet.cpp',
		'WaterLODControl.cpp',
		'wcedit.cpp',
		'../shared/weapon_parse.cpp',
		'../shared/weapon_proficiency.cpp',
		'weight_button.cpp',
		'world.cpp',
		'../shared/mp_shareddefs.cpp',
		'../server/vote_controller.cpp',
		'../../public/closedcaptions.cpp',
		'../../common/compiledcaptionswap.cpp',
		'../../public/collisionutils.cpp',
		'../../public/dt_send.cpp',
		'../../public/dt_utlvector_common.cpp',
		'../../public/dt_utlvector_send.cpp',
		'../../public/editor_sendcommand.cpp',
		'../../public/filesystem_helpers.cpp',
		'gamehandle.cpp',
		'h_export.cpp',
		'init_factory.cpp',
		'../../public/interpolatortypes.cpp',
		'../../public/keyframe/keyframe.cpp',
		'../../public/map_utils.cpp',
		'../../public/networkvar.cpp',
		'../../common/randoverride.cpp',
		'../../public/registry.cpp',
		'../../public/rope_physics.cpp',
		'../../public/scratchpad3d.cpp',
		'../../public/ScratchPadUtils.cpp',
		'../../public/server_class.cpp',
		'../shared/sheetsimulator.cpp',
		'../../public/simple_physics.cpp',
		'../../public/stringregistry.cpp',
		'../../public/studio.cpp',
		'../../public/vgui_controls/vgui_controls.cpp',
		'GameStats_BasicStatsFunctions.cpp',
		'../../common/CegClientWrapper.cpp',
		'basetempentity.cpp',
		'event_tempentity_tester.cpp',
		'movie_explosion.cpp',
		'particle_fire.cpp',
		'particle_smokegrenade.cpp',
		'plasma.cpp',
		'smokestack.cpp',
		'smoke_trail.cpp',
		'../shared/SpriteTrail.cpp',
		'steamjet.cpp',
		'te.cpp',
		'te_armorricochet.cpp',
		'te_basebeam.cpp',
		'te_beamentpoint.cpp',
		'te_beaments.cpp',
		'te_beamfollow.cpp',
		'te_beamlaser.cpp',
		'te_beampoints.cpp',
		'te_beamring.cpp',
		'te_beamringpoint.cpp',
		'te_beamspline.cpp',
		'te_bloodsprite.cpp',
		'te_bloodstream.cpp',
		'te_breakmodel.cpp',
		'te_bspdecal.cpp',
		'te_bubbles.cpp',
		'te_bubbletrail.cpp',
		'te_clientprojectile.cpp',
		'te_decal.cpp',
		'te_dynamiclight.cpp',
		'te_effect_dispatch.cpp',
		'te_energysplash.cpp',
		'te_explosion.cpp',
		'te_fizz.cpp',
		'te_footprintdecal.cpp',
		'hl2/te_gaussexplosion.cpp',
		'te_glassshatter.cpp',
		'te_glowsprite.cpp',
		'te_impact.cpp',
		'te_killplayerattachments.cpp',
		'te_largefunnel.cpp',
		'te_muzzleflash.cpp',
		'te_particlesystem.cpp',
		'te_physicsprop.cpp',
		'te_playerdecal.cpp',
		'te_projecteddecal.cpp',
		'te_showline.cpp',
		'te_smoke.cpp',
		'te_sparks.cpp',
		'te_sprite.cpp',
		'te_spritespray.cpp',
		'te_worlddecal.cpp',
		'nav_area.cpp',
		'nav_colors.cpp',
		'nav_edit.cpp',
		'nav_entities.cpp',
		'nav_file.cpp',
		'nav_generate.cpp',
		'nav_ladder.cpp',
		'nav_merge.cpp',
		'nav_mesh.cpp',
		'nav_mesh_factory.cpp',
		'nav_node.cpp',
		'nav_simplify.cpp',
		'entity_tools_server.cpp',
		'toolframework_server.cpp',
		'hl2/Func_Monitor.cpp',
		'h_cycler.cpp',
		'../shared/predicted_viewmodel.cpp',
		'team_objectiveresource.cpp',
		'team_spawnpoint.cpp',
		'server_log_http_dispatcher.cpp',
		'../shared/teamplayroundbased_gamerules.cpp',
		'../shared/cstrike15/cstrike15_item_inventory.cpp',
		'../shared/cstrike15/cstrike15_item_system.cpp',
		'../shared/cstrike15/cstrike15_item_schema.cpp',
		'../shared/cstrike15/cs_econ_item_string_table.cpp',
		'../shared/cstrike15/achievements_cs.cpp',
		'../shared/cstrike15/basecsgrenade_projectile.cpp',
		'../shared/cstrike15/cs_ammodef.cpp',
		'cstrike15/cs_autobuy.cpp',
		'cstrike15/cs_client.cpp',
		'cstrike15/cs_entity_spotting.cpp',
		'cstrike15/cs_eventlog.cpp',
		'cstrike15/cs_gameinterface.cpp',
		'../shared/cstrike15/cs_gamemovement.cpp',
		'../shared/cstrike15/cs_gamerules.cpp',
		'cstrike15/cs_gamestats.cpp',
		'../shared/cstrike15/cs_gamestats_shared.cpp',
		'steamworks_gamestats_server.cpp',
		'cstrike15/cs_hltvdirector.cpp',
		'cstrike15/cs_player.cpp',
		'cstrike15/cs_player_resource.cpp',
		'../shared/cstrike15/cs_player_shared.cpp',
		'../shared/cstrike15/cs_playeranimstate.cpp',
		'../shared/cstrike15/csgo_playeranimstate.cpp',
		'cstrike15/cs_playermove.cpp',
		'cstrike15/cs_pushentity.cpp',
		'dedicated_server_ugc_manager.cpp',#[!$X360 && !$PS3])
		'../shared/cstrike15/cs_shareddefs.cpp',
		'cstrike15/cs_team.cpp',
		'cstrike15/cs_vehicle_jeep.cpp',
		'../shared/cstrike15/cs_weapon_parse.cpp',
		'../shared/cstrike15/flashbang_projectile.cpp',
		'cstrike15/func_bomb_target.cpp',
		'cstrike15/func_buy_zone.cpp',
		'cstrike15/func_hostage_rescue.cpp',
		'cstrike15/func_no_defuse.cpp',
		'cstrike15/funfact_cs.cpp',
		'cstrike15/funfactmgr_cs.cpp',
		'../shared/cstrike15/fx_cs_shared.cpp',
		'../shared/cstrike15/hegrenade_projectile.cpp',
		'cstrike15/info_view_parameters.cpp',
		'cstrike15/item_ammo.cpp',
		'cstrike15/item_assaultsuit.cpp',
		'cstrike15/item_defuser.cpp',
		'cstrike15/item_kevlar.cpp',
		'cstrike15/item_nvgs.cpp',
		'cstrike15/mapinfo.cpp',
		'cstrike15/point_hiding_spot.cpp',
		'cstrike15/point_surroundtest.cpp',
		'../shared/cstrike15/smokegrenade_projectile.cpp',
		'cstrike15/te_radioicon.cpp',
		'cstrike15/te_shotgun_shot.cpp',
		'../shared/cstrike15/player_pickup.cpp',
		'../shared/cstrike15/molotov_projectile.cpp',
		'../shared/cstrike15/decoy_projectile.cpp',
		'../shared/cstrike15/sensorgrenade_projectile.cpp',
		'cstrike15/cs_voteissues.cpp',
		'../shared/cstrike15/gametypes.cpp',
		'../../public/XZip.cpp',
		'../../public/XUnzip.cpp',
		'../shared/cstrike15/weapon_basecsgrenade.cpp',
		'../shared/cstrike15/weapon_c4.cpp',
		'../shared/cstrike15/weapon_csbase.cpp',
		'../shared/cstrike15/weapon_csbasegun.cpp',
		'../shared/cstrike15/weapon_deagle.cpp',
		'../shared/cstrike15/weapon_elite.cpp',
		'../shared/cstrike15/weapon_flashbang.cpp',
		'../shared/cstrike15/weapon_hegrenade.cpp',
		'../shared/cstrike15/weapon_ironsightcontroller.cpp',
		'../shared/cstrike15/weapon_knife.cpp',
		'../shared/cstrike15/weapon_m3.cpp',
		'../shared/cstrike15/weapon_sg552.cpp',
		'../shared/cstrike15/weapon_smokegrenade.cpp',
		'../shared/cstrike15/weapon_xm1014.cpp',
		'../shared/cstrike15/weapon_sawedoff.cpp',
		'../shared/cstrike15/weapon_taser.cpp',
		'../shared/cstrike15/weapon_molotov.cpp',
		'../shared/cstrike15/weapon_decoy.cpp',
		'../shared/cstrike15/weapon_sensorgrenade.cpp',
		'../shared/cstrike15/weapon_nova.cpp',
		'../shared/cstrike15/weapon_baseitem.cpp',
		'../shared/cstrike15/item_healthshot.cpp',
		'cstrike15/Effects/inferno.cpp',
		'cstrike15/Effects/chicken.cpp',
		'../shared/cstrike15/infernoshared.cpp',
		'cstrike15/bot/cs_bot.cpp',
		'cstrike15/bot/cs_bot_chatter.cpp',
		'cstrike15/bot/cs_bot_chatter_coop.cpp',
		'cstrike15/bot/cs_bot_event.cpp',
		'cstrike15/bot/cs_bot_event_bomb.cpp',
		'cstrike15/bot/cs_bot_event_player.cpp',
		'cstrike15/bot/cs_bot_event_weapon.cpp',
		'cstrike15/bot/cs_bot_init.cpp',
		'cstrike15/bot/cs_bot_listen.cpp',
		'cstrike15/bot/cs_bot_manager.cpp',
		'cstrike15/bot/cs_bot_nav.cpp',
		'cstrike15/bot/cs_bot_pathfind.cpp',
		'cstrike15/bot/cs_bot_radio.cpp',
		'cstrike15/bot/cs_bot_statemachine.cpp',
		'cstrike15/bot/cs_bot_update.cpp',
		'cstrike15/bot/cs_bot_vision.cpp',
		'cstrike15/bot/cs_bot_weapon.cpp',
		'cstrike15/bot/cs_bot_weapon_id.cpp',
		'cstrike15/bot/cs_gamestate.cpp',
		'cstrike15/bot/states/cs_bot_attack.cpp',
		'cstrike15/bot/states/cs_bot_buy.cpp',
		'cstrike15/bot/states/cs_bot_defuse_bomb.cpp',
		'cstrike15/bot/states/cs_bot_pickup_hostage.cpp',
		'cstrike15/bot/states/cs_bot_escape_from_bomb.cpp',
		'cstrike15/bot/states/cs_bot_fetch_bomb.cpp',
		'cstrike15/bot/states/cs_bot_follow.cpp',
		'cstrike15/bot/states/cs_bot_hide.cpp',
		'cstrike15/bot/states/cs_bot_hunt.cpp',
		'cstrike15/bot/states/cs_bot_idle.cpp',
		'cstrike15/bot/states/cs_bot_idle_coop.cpp',
		'cstrike15/bot/states/cs_bot_investigate_noise.cpp',
		'cstrike15/bot/states/cs_bot_move_to.cpp',
		'cstrike15/bot/states/cs_bot_open_door.cpp',
		'cstrike15/bot/states/cs_bot_plant_bomb.cpp',
		'cstrike15/bot/states/cs_bot_use_entity.cpp',
		'cstrike15/bot/states/cs_bot_escape_from_flames.cpp',
		'../shared/cstrike15/bot/bot.cpp',
		'../shared/cstrike15/bot/bot_hide.cpp',
		'../shared/cstrike15/bot/bot_manager.cpp',
		'../shared/cstrike15/bot/bot_profile.cpp',
		'../shared/cstrike15/bot/bot_util.cpp',
		'../../common/platforminputdevice.cpp',
		'../shared/cstrike15/bot/shared_util.cpp',
		'cstrike15/hostage/cs_simple_hostage.cpp',
		'cstrike15/cs_nav_area.cpp',
		'cstrike15/cs_nav_generate.cpp',
		'cstrike15/cs_nav_mesh.cpp',
		'cstrike15/cs_nav_path.cpp',
		'../shared/econ/econ_item_view.cpp',
		'../shared/econ/econ_item_interface.cpp',
		'../shared/econ/econ_item_system.cpp',
		'../shared/econ/attribute_manager.cpp',
		'../shared/econ/econ_entity.cpp',
		'../shared/econ/econ_entity_creation.cpp',
		'../shared/econ/econ_item_inventory.cpp',
		'../shared/econ/econ_item.cpp',
		'../shared/econ/econ_item_constants.cpp',
		'../shared/econ/econ_item_schema.cpp',
		'../shared/econ/item_selection_criteria.cpp',
		'../shared/econ/localization_provider.cpp',
		'../../public/tier0/memoverride.cpp'
	]

	if bld.env.DEST_OS == 'win32':
		source += ['cstrike15/gameui/logofile.cpp']
	else:
		source += ['../../filesystem/linux_support.cpp']

	bld.shlib(
		source   = source,
		target   = 'server',
		features = 'cxx',
		includes = includes,
		use      = libs,
		install_path = bld.env.GAMEBIN,
		subsystem = bld.env.MSVC_SUBSYSTEM,
		idx = bld.get_taskgen_count()
	)
